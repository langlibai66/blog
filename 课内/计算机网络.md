# 计算机网络

## 计算机网络概念篇

### 小碎点

互联网服务提供者ISP ，可以是中国电信、中国移动、中国联通

1Byte = 8 bit

表示速率时  k  =  $10^3$

表示数据量时 K = $2^{10}$

数据量一般是KB    速率一般是kb/s

##### 总时延 = 发送时延+传播时延+处理时延+排队时延





### 按照传输方向分类

> ##### 单工：只能单方向
>
> ##### 双工：在同一时间，线路上只能允许一个方向的数据通过
>
> ##### 全双工：双方可以同时进行数据通信

### OSI参考模型

##### 工作原理：

应用层通过应用进程交互完成特定网络应用   交互的数据单元为报文

运输层为两台主机中进程之间的通信提供数据传输服务   

网络层为分组交换网上的不同主机提供通信服务   使用分组或数据报为数据单元

数据链路层在相邻接点之间传送数据帧

物理层实现比特传输

![image-20241107113809460](http://image.aaaieee.cn/image/image-20241107113809460.png)

##### 物理层

单位：bit				

利用传输介质，网络结点之间建立

##### 数据链路层

单位：帧 		

物理层基础上，提供节点到节点之间的服务，差错检测、流量控制

##### 网络层

单位：分组			

 数据链路层基础上提供点到点之间的通信，提供路由功能，拥塞控制、网络互联

##### 传输层

提供端到端之间的数据传输服务，实现对数据进行控制与操作的功能

##### 会话层

负责维护通信中两个节点之间的会话建立维护和断开以及数据的交换

##### 表示层

用于处理交互数据的表示方式，例如格式转换、数据加密与解密，数据压缩等功能

##### 应用层

使用应用程序通过网络服务

### TCP/IP参考模型

##### 网络接口层

物理层和数据链路层

##### 网际层

网络层

##### 传输层

传输层

##### 应用层

会话层  表示层 应用层

### 物理层

##### 四大特性

机械特性 电气特性  功能特性  过程特性

##### 调制

将任意信号转化为模拟信号

##### 编码

将任意信号编码为数字信号

##### 传输介质

###### 双绞线

- 屏蔽双绞线 STP
  - 抗干扰强、贵一些
- 非屏蔽双绞线 UTP
  - 便宜、抗干扰差

###### 光纤

- 单模光纤
  - 多模光纤(Multi Mode Fiber) － 芯较粗(50或62.5μm)，可传多种模式的光。
  - 距离：2KM
- 多模光纤
  - 单模光纤(Single Mode Fiber)：中心纤芯很细(芯径一般为9或10μm)，只能传一种模式的光。因此，其模间色散很小，适用于远程通讯，但还存在着材料色散和波导色散，这样单模光纤对光源的谱宽和稳定性有较高的要求，即谱宽要窄，稳定性要好。
  - 距离：100KM

##### 复用技术

频分 时分 码分 波分

##### 传输方式

基带传输：传输数字信号

频带传输：传输模拟信号

### ICMP

控制报文协议 是TCP/IP的子协议，用于在主机、路由器之间传递控制消息

控制消息是指网络通不通，主机是否可达

**Ping的过程实际上就是ICMP协议工作的过程**

### ARP

IP地址解析成MAC地址                                                                                                                       

### 虚电路

面向连接进行数据传输，类似线路交换，但是并没有物理的电路

建立虚拟电路后 沿着相同的VC传输  发收顺序完全相同   传输完毕后进行释放

较适合站点之间大批量的数据传输

### 冲突域

冲突域就是所有节点竞争同一带宽  

一般认为一个集线器就是一个冲突域

交换机上一个连接就是一个冲突域

### 计算ppp协议真正的数据怎么写

遇到7D 5E转换为7E

遇到7D 5D转换为7D

### 零比特填充

**只要发现有 5 个连续 1，则立即填入一个0**

### 中间设备

**传输层（网关，四层交换机）
网络层（路由器，三层交换机）
数据链路层（网桥，二层交换机）
物理层（中继器，集线器）**

#### **中继器**

又叫重发器（Repeater，也叫放大器），是LAN(局域网)环境下用来延长网络距离的互连设备中最简单、最廉价的设备。

#### **集线器**

(被称为多端口中继器multiport repeater) 是中继器的一种形式，也称为盒装总线，所以集线器连接的计算机是共享同一物理带宽的。正是因为这个特点，集线器不适合用来构建大型网络。

#### **网桥**

（Bridge)也称为桥接器，是连接两个局域网的存储转发设备，用它可以使完全具有相同或相似体系结构网络系统的连接，这样不但能扩展网络的距离或范围，而且可提高网络的性能、可靠性和安全性。
网桥工作在数据链路层，将两个LAN连起来，根据MAC地址来转发帧，可以看作一个“低层的路由器”（路由器工作在网络层，根据网络地址如IP地址进行转发）。

#### **交换机**

（Switch）是主导网络系统的集线设备。将多个网络设备连接起来组成一个局域网。它是一种用于电（光）信号转发的网络设备，用来进行数据交换。

![image-20241110180147986](http://image.aaaieee.cn/image/image-20241110180147986.png)



### IP数据报分片

将IP数据报分为两部分   固定首部（20B）+ 数据部分

按照最大字节长度进行减法，逐步确定分片长度，每个分片都要有首部

##### 片偏移字段的计算

（将原数据段上的分片进行）将每个片的偏移长度（以8B为一个单位），逐步偏移得到，例如1480的长度，1480/8=185

##### MF：

标志位，分片之后还有没有分片

##### DF：

标志位，dont分片   不允许分片的标志

### 路由器下一跳转发

直接看匹不匹配

### 路由表更新

收到新的路由信息

原本就有数据的进行更新，如果变了，将其进行替换，替换时，由于路由器之间本身就存在一跳，所以要加一

如果有新增的，如果目的地址没有过，则直接进行更新，下一跳直接选路由器

如果地址出现过，进行比对，选择短的那条进行替换

### OSPF BGP 

相比于RIP，更适合大型网络

并且可以划分AS（自治系统）减少资源消耗

### 虚拟专用网 VPN

采用专用 IP 地址的互连网络称为专用网。

如果一个机构有很多部门且分布在世界各地，就可以利用公用的互联网作为此机构各专用网之间的通信载体，形成一个更大的专用网，这样的专用网称为虚拟专用网 VPN (Virtual Private Network)。虚拟专用网用于一个机构内部的主机通信，而不是用于和机构外的主机通信。

### 吞吐量

吞吐量是单位时间内传输数据量

发送所需时间+传播时间

### 传播时间

二倍端到端传播时延

### 信道利用率

发送时间/总时间

